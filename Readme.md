# Курсовой проект "Сетевой чат"

## Задание

Разработать два приложения для обмена текстовыми сообщениями по сети с помощью консоли (терминала) между двумя и более пользователями.

***Первое приложение*** - сервер чата, должно ожидать подключения пользователей.

***Второе приложение*** - клиент чата, подключается к серверу чата и осуществляет доставку и получение новых сообщений.

Все сообщения должны записываться в file.log как на сервере, так и на клиентах. File.log должен дополняться при каждом запуске, а также при отправленном или полученном сообщении. Выход из чата должен быть осуществлен по команде exit.

#### Требования к серверу
- Установка порта для подключения клиентов через файл настроек (например, settings.txt);
- Возможность подключиться к серверу в любой момент и присоединиться к чату;
- Отправка новых сообщений клиентам;
- Запись всех отправленных через сервер сообщений с указанием имени пользователя и времени отправки.

#### Требования к клиенту
- Выбор имени для участия в чате;
- Прочитать настройки приложения из файла настроек - например, номер порта сервера;
- Подключение к указанному в настройках серверу;
- Для выхода из чата нужно набрать команду выхода - “/exit”;
- Каждое сообщение участников должно записываться в текстовый файл - файл логирования. При каждом запуске приложения файл должен дополняться.

#### Требования в реализации
- Сервер должен уметь одновременно ожидать новых пользователей и обрабатывать поступающие сообщения от пользователей;
- Использован сборщик пакетов gradle/maven;
- Код размещен на github;
- Код покрыт unit-тестами.

## Решение

#### Описание
Приложение выполнено в виде Maven проекта с двумя модулями: серверной и клиентской частей.
Для настройки клента и сервера используются файлы с именем Settings.txt в каждом из модулей.
В серверной части в файле настраивается номер порта сервера, а также пути сохранения файлов логгирования и сохранения состояния сервера.
Настройки клиента содержат адрес хоста и порт для подключения, а также путь к файлу логгирования.

#### Сервер

Запуск сервера выполняется в классе Main модуля ServerPart. После активации в консоли выводится номер порта подключения.
Остановку сервера предлагается выполнить путем ввода команды '/exit' в консоли сервера.
При этом сервер сохраняет свое состояние в файле 'storage.gson' по пути, указанному в настройках.

![img.png](img.png)

#### Клиент

Аналогично серверу, активация клиента производится из класса Main модуля ClientPart при работающем сервере.
После подключения клиента сервер предложит:
* ввести логин для начала авторизации;
* выйти без авторизации;
* зарегистрироваться в качестве нового пользователя.

Все сообщения и события дублируются в файл 'log.txt'.

Для выхода из чата необходимо в консоль ввести команду '/exit'.

![img_1.png](img_1.png)
